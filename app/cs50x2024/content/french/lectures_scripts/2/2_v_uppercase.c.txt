Prenons un autre exemple et voyons quelle sorte de puissance nous avons maintenant que nous contrôlons vraiment et que nous comprenons réellement ce qu'est une chaîne. Je vais avancer et faire ça très vite. Donc, ici, dans mon programme, appelé uppercase.c, je me sers de la bibliothèque CS50. Je vais me servir de la standard Io.h. Et maintenant, je vais me servir de string.h, juste pour que je puisse utiliser str leng. Je vais me donner le nom d'une fonction principale.

Et puis ici, faisons la même chose. String s récupère get string. Mais cette fois, je vais demander à l'humain la chaîne avant d'y faire quelque chose. Ensuite, je vais avancer et dire après que je veux que ce qui suit se produise. Et je vais faire ceci-- pour int i égal à zéro, n égal str leng s comme avant. Faisons cela tant que i est inférieur à n, et à chaque itération, incrémentons i. Alors copions-collons à partir d'avant. J'ai juste réécrit la même chose. Maintenant, avançons et dans cette boucle for, laissons-moi changer cette chaîne, quelle qu'elle soit, en majuscules.

Alors, comment puis-je faire ça ? Alors, allons-y et disons, eh bien, si le caractère actuel dans s le support i est supérieur ou égal à a minuscule, et que le même caractère est inférieur ou égal à z minuscule. J'utilise donc des éléments de la semaine un, même si nous n'avons pas vraiment utilisé cette syntaxe la semaine dernière. Je pose simplement une question simple. Le i-ème caractère de s est-il supérieur ou égal à un minuscule et – double esperluette signifie et - logiquement, ce caractère est-il inférieur ou égal à z ? Alors, est-ce a, b, c, jusqu'à z - est-ce une lettre minuscule ? Si oui, je veux faire quelque chose comme convertir en majuscules. Mais nous y reviendrons dans un instant. Sinon, que veux-je faire si le caractère n'est pas en minuscules et que mon objectif est de mettre toute la saisie en majuscules ?

PUBLIC : [INAUDIBLE]

DAVID MALAN : Ouais, il suffit de le laisser comme ça. Tu sais quoi ? Je vais juste - d'accord, je vais juste le laisser comme ça. Je vais le réimprimer, comme je le ferais avec printf comme ça. Donc, même si ce n'est pas évident dès le départ comment je vais résoudre ce problème, je me suis maintenant laissé un espace réservé, du pseudo-code si tu veux. Il me suffit maintenant de répondre à cette question. Eh bien, il s'avère qu'un endroit populaire pour trouver cette réponse serait AsciiChart.com Et il y a différentes façons de résoudre ce problème, mais c'est juste un site web gratuit qui nous montre tous les nombres décimaux qui correspondent aux lettres. Et rappelons-nous à partir de la semaine zéro, que 65 est a, 66 est b, et ainsi de suite.

Remarques que 65 est - A majuscule est 65. Qu'est-ce que a minuscule ?

PUBLIC : [INAUDIBLE]

DAVID MALAN : 97. Et puis regarde – 66 à 98, 67 à 99, 68 à 100 – quelle est la différence entre eux ? Ouais, c'est 32. Si vous ajoutez 32 à 65, vous obtenez 97. Si vous ajoutez 32 à 66, vous obtenez 98, et ainsi de suite. Il semble donc que les minuscules, merveilleusement pratique, sont toutes à 32 valeurs des majuscules. Ou inversement, si j'ai une minuscule, logiquement, que pourrais-je lui faire pour la convertir de majuscule en minuscule - désolé - de minuscule en majuscule ? Soustraire, n'est-ce pas ?

Alors pourquoi n'essaierais-je pas d'imprimer printf, pour cent c, puis d'imprimer non pas le caractère réel, mais simplement de lui soustraire 32. Je sais que ce sont des entiers cachés. Et franchement, si je veux être vraiment explicite, je peux le convertir en un entier, le code Ascii, puis soustraire 32, mais cela peut être fait implicitement - nous l'avons vu plus tôt. Alors, je vais enregistrer ce fichier et exécuter uppercase, make uppercase, dot slash uppercase. Et cette fois, laissez-moi écrire le nom d'Emma en minuscules, et voilà, je le vois ici. Maintenant, c'est un peu moche. Qu'est-ce que j'ai oublié ?

PUBLIC : [INAUDIBLE]

DAVID MALAN : Une nouvelle ligne. Je vais donc le faire à la toute fin du programme, afin de ne l'obtenir qu'une seule fois à la toute fin. Permettez-moi de relancer - faites uppercase, dot slash uppercase, Emma en minuscules. Voila, je l'ai en majuscules. Il s'agit donc d'une implémentation de très bas niveau de la notion de mise en majuscules de quelque chose. Donc, si vous avez déjà fait cela dans Google Docs ou Microsoft Word - convertissez tout cela en majuscules pour une raison ou une autre, c'est tout ce que l'ordinateur fait en cachette - itérer sur les caractères et probablement soustraire à partir de cela. Mais ceci aussi est un détail de bas niveau auquel nous ne voulons probablement pas trop penser, et il s'avère qu'il existe des fonctions qui peuvent résoudre ce problème à notre place.