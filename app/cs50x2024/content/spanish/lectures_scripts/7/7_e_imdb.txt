Bueno, pues vamos a retomar el hilo de hoy, hablando también de temas de seguridad. Así que cualquier pregunta antes, ahora, ¿damos un paso hacia adelante y miramos algo mucho más masivo que nuestros cientos de favoritos aquí? ¿Hay alguna pregunta? Sí.

AUDIENCIA: [INAUDIBLE]

DAVID MALAN: Parece que Friends no se eliminó. Oh, interesante. Tienes razón. Vamos a intentarlo con algo más difícil. COMO "%amigos%". ¿Mejor? Ahora ya se han ido. Así que supongo... Tendría que mirar más de cerca los datos, pero supongo que una o más personas lo escribieron con una mayúscula ligeramente diferente, o tal vez pulsaron la barra espaciadora o algo así, donde yo no hacía una coincidencia exacta, haciendo así que el operador LIKE sea una solución más sólida.

Sin embargo, consideremos por un momento cuál podría ser el problema aquí. Como, esto parece una solución rápida y sucia, pero ¿realmente es rápida y sucia en qué sentido?

AUDIENCIA: Como, si tienes otro programa de televisión que tiene la palabra amigo en él, pero no Friends, [INAUDIBLE].

DAVID MALAN: Sí, podría haber otro programa con la palabra "amigos". Es bastante razonable. Y acabo de hacerlos desaparecer también de mi base de datos. Y, de hecho, probablemente podamos ver esto de verdad. Si sigo adelante y miro, por ejemplo, déjame entrar en un navegador aquí, IMDB.com, un sitio web muy popular para obtener críticas de películas o información sobre películas. Déjame seguir adelante y buscar amigos. Y sí, el éxito más popular parece ser la versión de 1994 de Amigos, pero hay Friends with Benefits (Amigos con derecho a roce). Hay Just Friends (Solo amigos), We Are Your Friends (Somos tus amigos), My Best Friend's Wedding (La boda de mi mejor amigo), Fisherman's Friends (Amigos pescadores), etc. Algunas de esas películas, algunos de esos programas de televisión. Y si hubiéramos rebuscado un poco más entre nuestros propios datos de cientos de filas, quizás algunos de vosotros también hubieseis tenido algunos de esos programas como vuestros favoritos. Así que tened cuidado con eso también.

Así que, en la preparación de hoy, queríamos jugar con un conjunto de datos aún más jugoso del que podíamos generar por nosotros mismos. Y maravillosamente, IMDB hace que mucha de su base de datos esté disponible para su descarga como archivos TSV, valores separados por tabuladores. En realidad, no es fundamentalmente diferente de los valores separados por comas. Un humano de IMDB decidió usar tabuladores para separar sus valores en lugar de comas.

Y si lees esta página aquí, verás que te permiten descargar un montón de archivos diferentes, uno de los cuales se centrará inicialmente, específicamente en title.basics.tsv.gz. Eso es un bocado, pero esto solo dice que es información básica sobre los títulos en su base de datos. Gz significa que está comprimido en G-zip, que es como Zip. Si estás familiarizado, en un Mac o PC, es solo otra forma de comprimir información, pero también puedes descomprimirla en una computadora. Dot TSV significa Valores separados por tabuladores.

Ahora, leímos por adelantado la información aquí, pero permítanme resumirla de la siguiente manera. Hay información jugosa en ese archivo. Y voy a seguir adelante y descargar este archivo aquí. Si hago clic en un enlace en el sitio web de IMDB, veré un archivo llamado title.basics.tsv.gz. Voy a seguir adelante y dejar que se descargue en segundo plano. Parece que tiene más de 100 megabytes. Si hago clic en él en mi Mac, se descomprimirá. Y verás aquí, aparentemente son 532 megabytes una vez que se descomprime. Eso es mucho más grande que el archivo CSV que descargué de Google hace unos minutos, que tiene 24 kilobytes, 24.000 bytes. Esto tiene 532 millones de bytes. Entonces es un orden de magnitud más grande, lo que significa que nuestras decisiones de diseño de hoy realmente van a importar.

Ahora, si miramos dentro de este archivo, veremos un montón de campos interesantes. Y esencialmente lo he resumido a partir de su propia documentación en línea. Hay estos cinco campos que son de interés en este momento, y los analizaremos ahora. Entonces tconst, no lo reconocí. Parece que es un término específico de IMDB, pero significa algún tipo de constante de título. Es un identificador único para cada película en la base de datos. Entonces, por ejemplo, una de las películas en ese archivo TSV, que abriré en un momento, tiene el valor único tt4786824. ¿Por qué? Porque sí.

Pero resulta que podemos ver qué es esto. Déjame tomar ese valor y dirigirme a IMDB.com/title/tt4786824. Entrar. Esto en realidad tiene importancia. Ese es el identificador único de The Crown, un popular programa de televisión que ahora puedes ver en Netflix.

Así que, si vuelves al campo real, así es como pasé el verano. Entonces, si regresas a los campos aquí, no solo tenemos tconst, que identifica de forma única la película, también tenemos el tipo de título. Entonces resulta que en este archivo de 500 megabytes, hay grandes cantidades de información sobre películas, series de televisión, documentales, cortos, muchos más datos de los que posiblemente podríamos utilizar en un día. Así que nos centraremos solo en series de televisión, como este, el programa The Crown.

El título principal es el nombre en el archivo que se le da al título principal del programa. A veces, los programas aparentemente tienen diferentes títulos en diferentes geografías o comunidades, por lo que el título principal es aquel por el que la mayoría de la gente lo conoce. El año de inicio es el año en que comenzó un programa de televisión en el que comenzó ese programa de televisión. The Crown salió por primera vez en 2016. Y los géneros, un poco extrañamente, son una lista separada por comas de géneros en los que cae ese programa. Y digo que es un poco raro, porque tenemos un archivo TSV, pero están usando comas en su interior. Por lo tanto, esta es probablemente una de las motivaciones para haber usado tabuladores en... para separar todas las columnas, porque quieren usar comas para algún otro propósito aquí. Pero es un poco desordenado. En realidad, esta no es necesariamente la mejor decisión de diseño aquí.

Entonces, ¿qué podemos hacer con todos estos datos aquí? Así que sigamos adelante y comencemos a tomar algunos de estos datos y a escribir algunos scripts que los involucren. Pero permítanme emitir una advertencia. Resulta que cuando tienes muchos datos en una base de datos, puede llevar bastante tiempo analizarlos o analizarlos. Y entonces, si alguna vez ves ciertos programas de repostería como Julia Child desde aquí en Cambridge, muy a menudo habrá algo de magia televisiva mediante la cual alguien mezcla la mezcla para pastel y la pone en el horno, y luego dos minutos después, ¡voilà!, sale. Eso se debe a que algunos de los scripts que escribiremos hoy podrían tardar muchos minutos en ejecutarse, pero seguiremos adelante y los ejecutaremos en segundo plano, y usaré las salidas que he creado aquí de antemano.

Entonces, ¿cómo empezamos a navegar por este conjunto de datos? Bueno, antes que nada, permítanme seguir adelante y abrir este archivo. Y voy a usar mi propia ventana de terminal aquí. Este archivo se llama titles.basics.tsv. Fíjate que incluso en mi programa aquí, tardó un momento en abrirse, pero así es como se ve. Es un poco críptico a primera vista, pero fíjate en que la primera fila son los encabezados del archivo. Entonces tenemos tconst y tipo de título y título principal, etc. Luego, cada fila a partir de entonces parece comenzar con uno de esos identificadores únicos, y parecen estar aumentando monótonamente, 1, 2, 3, 4, pero comienzan con tt y luego con algunos dígitos.

Luego ves que se trata de un montón de cortos, cortometrajes o cosas por el estilo. Y si seguimos desplazándonos, veremos algunos otros valores. Aquí está la primera película de la base de datos. Y si seguimos desplazándonos, desplazándonos y desplazándonos, veremos más. Entonces, si realmente uso mi editor de texto aquí y busco literalmente la palabra The Crown, tardará un poco en llegar, porque aparentemente hay un montón de programas llamados The Crown o Crowning o algo así. ¿Pero sabes qué será más rápido? Déjame seguir adelante y buscar... ¿cómo era? Si vuelvo a tt4786824, Entrar, tarda un momento en encontrar esto porque está buscando cientos de megabytes, pero aquí está este tconst, tipo de serie de televisión. Se llama The Crown. En otra geografía también se llama The Crown, 2016, etc.

Así que es una gran cantidad de datos. De hecho, ¿cuántos datos? Bueno, si realmente analizo esto con un comando en mi computadora, hay 6.267.469 programas en el mundo, ya sean televisión, películas, documentales o similares. Ese es un gran conjunto de datos. Entonces, supongamos que quiero centrarme realmente solo en un subconjunto de esos datos. ¿Qué puedo usar en su lugar?

Bien, permítanme seguir adelante y abrir, por ejemplo, el mismo archivo, pero permítanme intentar ponerlo en CS50 IDE.